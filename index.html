<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edo Dev Shop - Toko Digital</title>
    
    <!-- Favicon -->
<link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' 
viewBox='0 0 100 100'%3E%3Ctext y='0.9em' font-size='90'%3E🤖%3C/text%3E%3C/svg%3E">
    
    <!-- SEO & Open Graph Tags -->
    <meta name="title" content="Edo Dev Shop - Toko Digital">
    <meta name="description" content="Dapatkan Script Bot WhatsApp premium dan Panel Hosting performa tinggi di Edo Dev Shop. Belanja mudah, cepat, dengan nuansa digital modern.">
    <meta name="theme-color" content="#10b981">
    <meta property="og:title" content="Edo Dev Shop | Toko Digital">
    <meta property="og:description" content="Dapatkan Script Bot WA premium & Panel Hosting. Modern, cepat, dan terpercaya. 🤖⚡️">
    <meta property="og:url" content="https://shop.hosti.my.id">
    <meta property="og:site_name" content="EdoDev.store">
    <meta property="og:image" content="https://pomf2.lain.la/f/9843xkfk.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="id_ID">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://pomf2.lain.la/f/9843xkfk.jpg">
    
    <!-- Styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Source Code Pro', monospace; background-color: #010413; color: #d1d5db; background-image: linear-gradient(rgba(16, 185, 129, 0.05) 1px, transparent 1px), linear-gradient(90deg, rgba(16, 185, 129, 0.05) 1px, transparent 1px); background-size: 20px 20px; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes modal-in { from { opacity: 0; transform: translate(-50%, -45%); } to { opacity: 1; transform: translate(-50%, -50%); } }
        .tech-card { background: rgba(10, 15, 38, 0.7); border: 1px solid #1f2937; backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); transition: all 0.3s ease-in-out; position: relative; overflow: hidden; }
        .tech-card:before { content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%; background: linear-gradient(90deg, transparent, rgba(16, 185, 129, 0.2), transparent); transition: left 0.5s ease; }
        .tech-card:hover { border-color: #10b981; transform: translateY(-5px); }
        .tech-card:hover:before { left: 100%; }
        .btn-primary { background-color: #10b981; color: #010413; transition: all 0.2s ease; font-weight: 700; }
        .btn-primary:hover { background-color: #059669; box-shadow: 0 0 20px rgba(16, 185, 129, 0.5); }
        .btn-secondary { background: transparent; border: 1px solid #374151; transition: all 0.2s ease; }
        .btn-secondary:hover { background: #1f2937; border-color: #10b981; }
        .form-input { background-color: #0a0f26; border: 1px solid #374151; }
        .form-input:focus { border-color: #10b981; outline: none; box-shadow: 0 0 0 2px rgba(16, 185, 129, 0.4); }
        .loader { border: 3px solid rgba(255, 255, 255, 0.2); border-left-color: #10b981; animation: spin 1s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }
        .toast { position: fixed; top: 20px; right: 20px; z-index: 100; transform: translateX(120%); opacity: 0; transition: all 0.4s cubic-bezier(0.215, 0.610, 0.355, 1); border-left-width: 4px; }
        .toast.show { transform: translateX(0); opacity: 1; }
        .toast.success { background-color: #111827; border-color: #10b981; }
        .toast.error { background-color: #111827; border-color: #ef4444; }
        #cart-modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(1, 4, 19, 0.8); backdrop-filter: blur(5px); z-index: 40; opacity: 0; transition: opacity 0.3s ease; pointer-events: none; }
        #cart-modal-overlay.active { opacity: 1; pointer-events: auto; }
        #cart-modal { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 50; width: 90%; max-width: 500px; display: none; }
        #cart-modal.active { display: flex; animation: modal-in 0.3s ease-out forwards; }
    </style>
</head>
<body class="p-4 md:p-8 select-none">
    <div id="toast-container"></div>
    
    <!-- Header -->
    <header class="w-full max-w-7xl mx-auto flex justify-between items-center pb-8" style="animation: fadeIn 0.5s ease-out;">
        <h1 class="text-2xl font-bold text-white">
            EdoDev<span class="text-green-400">.store</span>
        </h1>
        <button onclick="openCartModal()" class="relative tech-card rounded-md p-3">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path><line x1="3" y1="6" x2="21" y2="6"></line><path d="M16 10a4 4 0 0 1-8 0"></path></svg>
            <span id="cart-counter" class="absolute -top-2 -right-2 bg-green-500 text-black text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold">0</span>
        </button>
    </header>

    <main class="w-full max-w-7xl mx-auto space-y-12" style="animation: fadeIn 0.8s ease-out;">
        <!-- Hero Product Section -->
        <section id="sc-section" class="tech-card rounded-lg p-6 md:p-8 flex flex-col md:flex-row items-center gap-8">
            <div class="flex-1">
                <span class="text-green-400 text-sm font-bold">// FEATURED SCRIPT</span>
                <h2 class="text-3xl md:text-4xl font-bold text-white mt-1">ALIP AI v4.00</h2>
                <p class="text-gray-400 mt-3 max-w-lg">Script bot WhatsApp premium dengan arsitektur modular, 100% tanpa enkripsi untuk kustomisasi tanpa batas.</p>
            </div>
            <div class="text-center md:text-right w-full md:w-auto mt-4 md:mt-0">
                <p class="text-3xl font-bold text-white">Rp50.000</p>
                <p class="text-gray-400 text-sm">Lisensi Seumur Hidup</p>
                <button onclick="addToCart({id: 'sc_alip_v4', name: 'Script Bot ALIP AI v4.00', price: 50000})" class="btn-primary py-2 px-6 rounded-md mt-4 w-full md:w-auto">
                    + Tambah ke Keranjang
                </button>
            </div>
        </section>

        <!-- Panel Section -->
        <section id="panel-section">
            <h2 class="text-2xl font-bold text-white mb-4">Panel Hosting</h2>
            <div id="panel-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4">
            </div>
        </section>
    </main>

    <!-- Cart Modal -->
    <div id="cart-modal-overlay" onclick="closeCartModal()"></div>
    <div id="cart-modal" class="flex-col tech-card rounded-lg border-green-500/50">
        <div class="p-4 border-b border-gray-700 flex justify-between items-center">
            <h2 class="text-lg font-bold text-white">Pesanan Anda</h2>
            <button onclick="closeCartModal()" class="text-gray-400 hover:text-white text-2xl">&times;</button>
        </div>
        
        <div id="cart-content" class="p-4 space-y-3 overflow-y-auto flex-1 max-h-[40vh]"></div>
        
        <div class="p-4 border-t border-gray-700 space-y-4">
            <div class="space-y-2">
                <div class="flex justify-between text-sm"><span class="text-gray-400">Subtotal</span> <span id="cart-subtotal">Rp0</span></div>
                <div class="flex justify-between text-sm"><span class="text-gray-400">Biaya Admin</span> <span id="cart-admin-fee">Rp0</span></div>
                <div id="discount-row" class="flex justify-between text-sm text-green-400 hidden"><span class="text-gray-400">Diskon</span> <span id="cart-discount">- Rp0</span></div>
                <div class="flex justify-between text-lg font-bold border-t border-gray-700 pt-2 mt-2"><span class="text-white">Total</span> <span id="cart-total" class="text-green-400">Rp0</span></div>
            </div>
            <div class="flex gap-2">
                <input type="text" id="promo-code" placeholder="Kode Promo" class="form-input w-full rounded-md p-2 text-sm">
                <button onclick="applyPromo()" class="btn-secondary text-white font-semibold py-2 px-4 rounded-md text-sm">Pakai</button>
            </div>
            
            <form id="checkout-form" class="space-y-3">
                <input type="text" name="name" class="form-input w-full rounded-md p-2.5" placeholder="Nama Lengkap" required>
                <input type="email" name="email" class="form-input w-full rounded-md p-2.5" placeholder="Alamat Gmail" required>
                <input type="tel" name="whatsapp" class="form-input w-full rounded-md p-2.5" placeholder="Nomor WhatsApp (62...)" required>
                <button type="submit" id="submit-button" class="btn-primary py-3 rounded-md w-full flex items-center justify-center">
                    <span id="submit-text">Kirim Pesanan</span>
                    <div id="submit-loader" class="loader w-5 h-5 hidden"></div>
                </button>
            </form>
        </div>
    </div>

    <script>
        // --- CONFIGURATION ---
        const CONFIG = {
            TELEGRAM_BOT_TOKEN: '8272578943:AAHwomTwwH7sKtjxplGGCK3VRDcLwRdoL1I',
            TELEGRAM_CHAT_ID: '7412906249',
            ADMIN_FEE: 2000,
            PROMO_URL: 'https://raw.githubusercontent.com/Edo-bo/Kode-promo/main/kodepromo.json'
        };

        // --- APPLICATION STATE ---
        let state = {
            cart: [],
            promoCodes: [],
            promoApplied: false,
            appliedPromo: null
        };

        const panelOptions = [
            { ram: '1 GB', price: 1000 }, { ram: '2 GB', price: 2000 },
            { ram: '3 GB', price: 3000 }, { ram: '4 GB', price: 4000 },
            { ram: '5 GB', price: 5000 }, { ram: '6 GB', price: 6000 },
            { ram: '7 GB', price: 7000 }, { ram: '8 GB', price: 8000 },
            { ram: '9 GB', price: 9000 }, { ram: '10 GB', price: 10000 },
            { ram: 'Unlimited', price: 12000 }
        ];

        // --- UTILITY & CORE FUNCTIONS ---
        const formatCurrency = (amount) => `Rp${amount.toLocaleString('id-ID')}`;
        const getEl = (selector) => document.querySelector(selector);

        async function fetchPromoCodes() {
            try {
                const response = await fetch(CONFIG.PROMO_URL);
                if (!response.ok) throw new Error('Network response was not ok');
                const data = await response.json();
                state.promoCodes = data;
                console.log('Promo codes loaded successfully:', state.promoCodes);
            } catch (error) {
                console.error('Failed to fetch promo codes:', error);
                showToast('Gagal memuat kode promo.', 'error');
            }
        }

        // --- UI RENDERING ---
        function renderPanelOptions() {
            const panelGrid = getEl('#panel-grid');
            panelGrid.innerHTML = panelOptions.map(option => {
                const productId = `panel_${option.ram.toLowerCase().replace(/ /g, '_')}`;
                return `
                <div class="tech-card rounded-lg p-3 text-center flex flex-col justify-between">
                    <div>
                        <h3 class="text-md font-bold text-white">${option.ram}</h3>
                        <p class="text-green-400 font-semibold mt-1 text-sm">${formatCurrency(option.price)}</p>
                    </div>
                    <button onclick="addToCart({id: '${productId}', name: 'Panel Hosting ${option.ram}', price: ${option.price}})" class="btn-primary text-xs py-2 px-3 rounded-md mt-3 w-full">
                        + Tambah
                    </button>
                </div>`;
            }).join('');
        }

        function updateCart() {
            const totalItems = state.cart.reduce((sum, item) => sum + item.quantity, 0);
            getEl('#cart-counter').textContent = totalItems;
            renderCartItems();
            calculateTotals();
        }

        function renderCartItems() {
            const cartContent = getEl('#cart-content');
            if (state.cart.length === 0) {
                cartContent.innerHTML = `<p class="text-center text-gray-500 text-sm">Keranjang kosong</p>`;
                return;
            }
            cartContent.innerHTML = state.cart.map(item => `
                <div class="flex justify-between items-center text-sm">
                    <div class="flex-1 mr-2">
                        <p class="font-semibold text-white">${item.name}</p>
                        <p class="text-gray-400">${formatCurrency(item.price)}</p>
                    </div>
                    <div class="flex items-center gap-2 bg-gray-800 rounded-md">
                        <button onclick="decreaseQuantity('${item.id}')" class="px-2 py-1 text-lg font-bold">-</button>
                        <span class="px-2 font-bold">${item.quantity}</span>
                        <button onclick="increaseQuantity('${item.id}')" class="px-2 py-1 text-lg font-bold">+</button>
                    </div>
                </div>
            `).join('');
        }
        
        function calculateTotals() {
            const subtotal = state.cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const discount = state.promoApplied && state.appliedPromo ? state.appliedPromo.discount : 0;
            const adminFee = subtotal > 0 ? CONFIG.ADMIN_FEE : 0;
            const total = Math.max(0, subtotal + adminFee - discount);

            getEl('#cart-subtotal').textContent = formatCurrency(subtotal);
            getEl('#cart-admin-fee').textContent = formatCurrency(adminFee);
            getEl('#cart-discount').textContent = `- ${formatCurrency(discount)}`;
            getEl('#cart-total').textContent = formatCurrency(total);
            getEl('#discount-row').classList.toggle('hidden', !state.promoApplied);
        }

        // --- CART & PROMO LOGIC ---
        function addToCart(product) {
            const existingItem = state.cart.find(item => item.id === product.id);
            if (existingItem) {
                existingItem.quantity++;
            } else {
                state.cart.push({ ...product, quantity: 1 });
            }
            updateCart();
            showToast(`${product.name} ditambahkan.`);
        }

        function increaseQuantity(productId) {
            const item = state.cart.find(i => i.id === productId);
            if (item) item.quantity++;
            updateCart();
        }

        function decreaseQuantity(productId) {
            const item = state.cart.find(i => i.id === productId);
            if (item) {
                item.quantity--;
                if (item.quantity <= 0) {
                    state.cart = state.cart.filter(i => i.id !== productId);
                }
            }
            if (state.cart.length === 0) {
                state.promoApplied = false;
                state.appliedPromo = null;
            }
            updateCart();
        }

        function applyPromo() {
            const promoInput = getEl('#promo-code');
            const userInput = promoInput.value.trim().toUpperCase();
            if (!userInput) return;

            const validPromo = state.promoCodes.find(p => p.code.toUpperCase() === userInput);
            
            if (validPromo) {
                state.promoApplied = true;
                state.appliedPromo = validPromo;
                calculateTotals();
                showToast(`Kode promo "${validPromo.code}" berhasil dipakai!`);
                promoInput.value = '';
            } else {
                showToast('Kode promo tidak valid.', 'error');
            }
        }
        
        // --- MODAL, TOAST, & FORM SUBMISSION ---
        function openCartModal() {
            updateCart();
            getEl('#cart-modal-overlay').classList.add('active');
            getEl('#cart-modal').classList.add('active');
        }

        function closeCartModal() {
            getEl('#cart-modal-overlay').classList.remove('active');
            getEl('#cart-modal').classList.remove('active');
        }

        function showToast(message, type = 'success') {
            const toast = document.createElement('div');
            toast.className = `toast ${type} p-4 rounded-md shadow-lg`;
            toast.innerHTML = `<p class="font-semibold text-white">${type === 'success' ? 'Sukses' : 'Error'}</p><p class="text-sm text-gray-300">${message}</p>`;
            getEl('#toast-container').appendChild(toast);

            setTimeout(() => toast.classList.add('show'), 10);
            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => toast.remove(), 500);
            }, 4000);
        }
        
        async function handleCheckout(event) {
            event.preventDefault();
            if (state.cart.length === 0) {
                showToast('Keranjang Anda kosong!', 'error'); return;
            }
            setLoading(true);

            const formData = new FormData(event.target);
            const name = formData.get('name');
            const email = formData.get('email');
            const whatsapp = formData.get('whatsapp');
            
            const subtotal = state.cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const discount = state.promoApplied && state.appliedPromo ? state.appliedPromo.discount : 0;
            const total = Math.max(0, subtotal + CONFIG.ADMIN_FEE - discount);
            const itemsList = state.cart.map(item => `   - ${item.name} <b>x${item.quantity}</b> (${formatCurrency(item.price * item.quantity)})`).join('\n');
            const promoText = state.appliedPromo ? `<b>Kode Promo:</b> ${state.appliedPromo.code}\n` : '';
            
            const message = `
<b>🤖 PESANAN BARU | EdoDev.store 🤖</b>
--------------------------------------
<b>Nama:</b> ${name}
<b>Gmail:</b> ${email}
<b>WhatsApp:</b> https://wa.me/${whatsapp}
--------------------------------------
<b>Rincian Pesanan:</b>
${itemsList}
--------------------------------------
${promoText}<b>Subtotal:</b> ${formatCurrency(subtotal)}
<b>Biaya Admin:</b> ${formatCurrency(CONFIG.ADMIN_FEE)}
<b>Diskon:</b> - ${formatCurrency(discount)}
<b>TOTAL: ${formatCurrency(total)}</b>
--------------------------------------
<i>Harap segera proses pesanan.</i>`;

            try {
                const response = await fetch(`https://api.telegram.org/bot${CONFIG.TELEGRAM_BOT_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ chat_id: CONFIG.TELEGRAM_CHAT_ID, text: message, parse_mode: 'HTML' }),
                });
                if (!response.ok) throw new Error('Telegram API request failed.');

                showToast('Pesanan berhasil terkirim!', 'success');
                event.target.reset();
                state.cart = [];
                state.promoApplied = false;
                state.appliedPromo = null;
                updateCart();
                closeCartModal();
            } catch (error) {
                console.error('Checkout Error:', error);
                showToast('Gagal mengirim pesanan. Coba lagi.', 'error');
            } finally {
                setLoading(false);
            }
        }
        
        function setLoading(isLoading) {
            getEl('#submit-button').disabled = isLoading;
            getEl('#submit-text').style.display = isLoading ? 'none' : 'block';
            getEl('#submit-loader').style.display = isLoading ? 'block' : 'none';
        }
        
        // --- INITIALIZATION ---
        document.addEventListener('DOMContentLoaded', async () => {
            await fetchPromoCodes();
            renderPanelOptions();
            getEl('#checkout-form').addEventListener('submit', handleCheckout);
        });
    </script>
    <footer class="w-full max-w-7xl mx-auto mt-16 border-t border-gray-700 pt-6 pb-6 text-center">
    <div class="text-gray-500 text-sm">
        © 2025 EdoDev.store — Semua Hak Dilindungi
    </div>
    </footer>
</body>
</html>
